{"version":3,"file":"convertGasUnitsToUSD.js","sourceRoot":"/","sources":["utils/mellowHelpers/convertGasUnitsToUSD.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA,iCAAmC;AACnC,4CAA8C;AAC9C,qDAAoD;AAEpD,SAAsB,oBAAoB,CAAC,QAAmB;;;;;wBACpC,qBAAM,IAAA,iCAAe,GAAE,EAAA;;oBAAzC,eAAe,GAAG,SAAuB;oBACzC,YAAY,GAAG,eAAe,CAAC,OAAO,EAAE,CAAC;oBAEzB,qBAAM,IAAA,0BAAa,EAAC,OAAO,CAAC,GAAG,CAAC,2BAA2B,IAAI,EAAE,CAAC,EAAA;;oBAAlF,aAAa,GAAG,SAAkE;oBAClF,mBAAmB,GAAG,aAAa,GAAG,GAAG,CAAC;oBAE1C,mBAAmB,GAAG,QAAQ;yBACjC,GAAG,CAAC,kBAAS,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC;yBACjC,GAAG,CAAC,kBAAS,CAAC,IAAI,CAAC,mBAAmB,CAAC,CAAC,CAAC;oBAEtC,iBAAiB,GAAG,UAAU,CAAC,mBAAmB,CAAC,QAAQ,EAAE,CAAC,CAAC;oBAC/D,WAAW,GAAG,iBAAiB,GAAG,aAAa,CAAC;oBACtD,sBAAO,WAAW,EAAC;;;;CACpB;AAdD,oDAcC","sourcesContent":["import { BigNumber } from 'ethers';\nimport { geckoEthToUsd } from '../priceFetch';\nimport { getGasPriceGwei } from './getGasPriceGwei';\n\nexport async function convertGasUnitsToUSD(gasUnits: BigNumber): Promise<number> {\n  const gasPriceGweiRaw = await getGasPriceGwei();\n  const gasPriceGwei = gasPriceGweiRaw.toFixed();\n\n  const ethToUSDPrice = await geckoEthToUsd(process.env.REACT_APP_COINGECKO_API_KEY || '');\n  const ethToUSDPriceScaled = ethToUSDPrice * 100;\n\n  const gasPriceUSDScaledBN = gasUnits\n    .mul(BigNumber.from(gasPriceGwei))\n    .mul(BigNumber.from(ethToUSDPriceScaled));\n\n  const gasPriceUSDScaled = parseFloat(gasPriceUSDScaledBN.toString());\n  const gasPriceUSD = gasPriceUSDScaled / 1000000000000;\n  return gasPriceUSD;\n}\n"]}