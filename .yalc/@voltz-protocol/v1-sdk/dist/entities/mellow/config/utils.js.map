{"version":3,"file":"utils.js","sourceRoot":"/","sources":["entities/mellow/config/utils.ts"],"names":[],"mappings":";;;;;;;;;;;;;;AAAA,gDAAoD;AAG7C,IAAM,mBAAmB,GAAG,UAAC,WAAmB;IACrD,OAAO,IAAI,CAAC,GAAG,EAAE,CAAC,OAAO,EAAE,GAAG,0BAAc,GAAG,WAAW,CAAC;AAC7D,CAAC,CAAC;AAFW,QAAA,mBAAmB,uBAE9B;AAEK,IAAM,qBAAqB,GAAG,UAAC,MAA4B;IAChE,6BACK,MAAM,KACT,cAAc,EAAE,MAAM,CAAC,cAAc,CAAC,GAAG,CAAC,UAAC,MAAM;YAC/C,6BACK,MAAM,KACT,QAAQ,wBACH,MAAM,CAAC,QAAQ,KAClB,MAAM,EAAE,MAAM,CAAC,QAAQ,CAAC,MAAM,CAAC,GAAG,CAAC,UAAC,KAAK;wBACvC,6BACK,KAAK,KACR,MAAM,EAAE,IAAA,2BAAmB,EAAC,KAAK,CAAC,mBAAmB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,MAAM,IACzE;oBACJ,CAAC,CAAC,OAEJ;QACJ,CAAC,CAAC,IACF;AACJ,CAAC,CAAC;AAlBW,QAAA,qBAAqB,yBAkBhC","sourcesContent":["import { DEPOSIT_WINDOW } from '../../../constants';\nimport { NetworkConfiguration } from './types';\n\nexport const closeOrPastMaturity = (timestampMS: number): boolean => {\n  return Date.now().valueOf() + DEPOSIT_WINDOW > timestampMS;\n};\n\nexport const disableMaturedWeights = (config: NetworkConfiguration): NetworkConfiguration => {\n  return {\n    ...config,\n    MELLOW_ROUTERS: config.MELLOW_ROUTERS.map((router) => {\n      return {\n        ...router,\n        metadata: {\n          ...router.metadata,\n          vaults: router.metadata.vaults.map((vault) => {\n            return {\n              ...vault,\n              weight: closeOrPastMaturity(vault.maturityTimestampMS) ? 0 : vault.weight,\n            };\n          }),\n        },\n      };\n    }),\n  };\n};\n"]}